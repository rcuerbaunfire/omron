<section class="search-result">
	<div class="bg-beige ~pt-[6.25rem]/[10.25rem] sb-xl">
		<div class="container">
			<div class="~px-[0rem]/[7.125rem]">
				<div class="flex flex-col gap-[0.75rem]">
					<div class="search-container">
						<input class="nav-search" data-action="{{ function("home_url", "/?s=") }}" placeholder="{{ search_placeholder }}" value="{{ function("get_search_query") }}" type="text" name="s">

						<svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M9.87979 3.04C6.10183 3.04 3.03979 6.10204 3.03979 9.88C3.03979 13.658 6.10183 16.72 9.87979 16.72C13.6578 16.72 16.7198 13.658 16.7198 9.88C16.7198 6.10204 13.6578 3.04 9.87979 3.04Z" stroke="#262626" stroke-miterlimit="10"/>
							<path d="M19.76 19.7605L14.7721 14.7727" stroke="#262626" stroke-miterlimit="10" stroke-linecap="square"/>
						</svg>
					</div>

					<p class="text-black-60">{{ search_showing_label }}
						<span class="search-count">{{ results.found_posts ?: 0  }}</span>
						{{ search_search_results_label }}</p>
				</div>
			</div>
		</div>
	</div>

	<div class="st-xl sb-xl bg-white min-h-[39.6875rem]">
		<div class="container">
			{% if results|length %}
				<div class="flex ~gap-[1.25rem]/[4rem] max-lg:flex-col">
					<div class="lg:w-[17.375rem] shrink-0">
						<div class="dialog-trigger flex gap-[0.75rem] py-[0.625rem]">
							<svg class="w-[1.25rem] h-[1.25rem]" width="20" height="21" viewbox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M17.7082 4.9043H14.7915" stroke="#262626" stroke-miterlimit="10" stroke-linecap="square" stroke-linejoin="round"/>
								<path d="M12.2915 4.9043H2.2915" stroke="#262626" stroke-miterlimit="10" stroke-linecap="square" stroke-linejoin="round"/>
								<path d="M2.2915 15.3223H11.4582" stroke="#262626" stroke-miterlimit="10" stroke-linecap="square" stroke-linejoin="round"/>
								<path d="M13.9585 15.3223H17.7085" stroke="#262626" stroke-miterlimit="10" stroke-linecap="square" stroke-linejoin="round"/>
								<path d="M2.2915 10.1133H5.20817" stroke="#262626" stroke-miterlimit="10" stroke-linecap="square" stroke-linejoin="round"/>
								<path d="M7.7085 10.1133H17.7085" stroke="#262626" stroke-miterlimit="10" stroke-linecap="square" stroke-linejoin="round"/>
								<path d="M13.5415 6.98893C12.8511 6.98893 12.2915 6.42935 12.2915 5.73893V4.07227C12.2915 3.38185 12.8511 2.82227 13.5415 2.82227C14.2319 2.82227 14.7915 3.38185 14.7915 4.07227V5.73893C14.7915 6.42935 14.2319 6.98893 13.5415 6.98893Z" stroke="#262626" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M12.7085 17.4049C12.0181 17.4049 11.4585 16.8454 11.4585 16.1549V14.4883C11.4585 13.7979 12.0181 13.2383 12.7085 13.2383C13.3989 13.2383 13.9585 13.7979 13.9585 14.4883V16.1549C13.9585 16.8454 13.3989 17.4049 12.7085 17.4049Z" stroke="#262626" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M6.4585 12.196C5.76808 12.196 5.2085 11.6364 5.2085 10.946V9.2793C5.2085 8.58888 5.76808 8.0293 6.4585 8.0293C7.14891 8.0293 7.7085 8.58888 7.7085 9.2793V10.946C7.7085 11.6364 7.14891 12.196 6.4585 12.196Z" stroke="#262626" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>

							<p>{{ search_filter_label }}</p>
						</div>

						<dialog>
							<div class="dialog-inner">
								<div class="dialog-head">
									<p class="text-blue clear-all decoration-[0.0625rem] hover:underline underline-offset-[0.125rem]">{{ search_clear_label }}</p>
									<p>{{ search_filter_label }}</p>
									<p class="text-blue dialog-close decoration-[0.0625rem] hover:underline underline-offset-[0.125rem]">{{ search_dialog_close_label }}</p>
								</div>

								<div class="dialog-body">
									<div class="lg:w-[17.375rem] shrink-0">
										<div class="flex justify-between items-center pb-[0.75rem] border-b-[0.0625rem] border-b-gray-2">
											<small class="shrink-0 text-black-60">{{ search_filter_label }}</small>

											<div class="clear-all shrink-0 cursor-pointer max-lg:hidden">
												<p class="text-black-60 sm hover:underline decoration-[0.0625rem] underline-offset-[0.125rem]">{{ search_clear_label }}</p>
											</div>
										</div>

										<div class="search-filter-group">
											<div class="search-filter-head">
												<p>{{ search_by_type_label }}</p>
												<svg class="h-[0.625rem] w-[0.625rem]" width="9" height="9" viewbox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
													<line y1="4.5" x2="9" y2="4.5" stroke="black"></line>
													<line x1="4.5" y1="9" x2="4.5" y2="2.18557e-08" stroke="black"></line>
												</svg>
											</div>

											<div class="search-filter-body">
												<div class="search-filter">
													<input type="radio" value="all" {{ active_type == 'all' ? 'checked' }} name="search-type" data-url="{{ function("home_url") }}/?s={{ search_term }}&type=all">
													<div class="search-filter-box"></div>
													<p>{{ search_all_types_label }}</p>
												</div>

												{% for item in search_types %}
													{% set label = "" %}

													{% if item.type == 'page' %}
														{% set label = search_content_label %}

													{% elseif item.type == 'post' %}
														{% set label = search_blog_label %}

													{% elseif item.type == 'news' %}
														{% set label = search_news_label %}

													{% elseif item.type == 'event' %}
														{% set label = search_events_label %}

													{% elseif item.type == 'case-study' %}
														{% set label = 'Case Studies' %}
													{% endif %}

													<div class="search-filter">
														<input type="radio" value="{{ item.type }}" {{ active_type == item.type ? 'checked' }} name="search-type" data-url="{{ function("home_url") }}/?s={{ search_term }}&type={{ item.type }}">
														<div class="search-filter-box"></div>
														<p>{{ label }} (<span class="search-filter-count">{{ item.count }}</span>)</p>
													</div>
												{% endfor %}
											</div>
										</div>
									</div>

									<div class="btn filled blue dialog-close mt-[1.25rem] lg:hidden w-full" type="button">
										<svg width="13" height="13" viewbox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M8.55697 10.375L11.8486 6.94618L8.55697 3.51736" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
											<path d="M1.01411 0.500006L1.0141 5.84896C1.0141 6.45463 1.50566 6.94618 2.11133 6.94618L11.9863 6.94618" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
										</svg>

										<p>{{ search_dialog_apply_label }}</p>
									</div>
								</div>
							</div>
						</dialog>
					</div>

					<div class="flex flex-col ~gap-[2.75rem]/[3.25rem] lg:flex-1">
						<div class="flex flex-col ~gap-[1.5rem]/[2rem]">
							{% for item in results %}
								<div class="search-item cursor-pointer flex flex-col gap-[0.75rem] ~pb-[1.5rem]/[2.25rem] border-b-[0.0625rem] border-b-gray-2" data-href="{{ item.link }}">
									<p class="lg">{{ item.title }}</p>

									{% if item.excerpt and item.excerpt != '' %}
										<p>{{ item.excerpt }}</p>
									{% endif %}
								</div>
							{% endfor %}
						</div>

						{% if posts.pagination.pages|length %}
							<div class="pagination">
								{% if posts.pagination.prev %}
									<a href="{{ posts.pagination.prev.link }}" class="prev {{ posts.pagination.prev.link|length ? '' : 'disabled' }}">
										<svg width="20" height="20" viewbox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M13 16L7 10L13 4"/>
										</svg>
									</a>
								{% else %}
									<a href="#" class="prev disabled">
										<svg width="20" height="20" viewbox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M13 16L7 10L13 4"/>
										</svg>
									</a>
								{% endif %}

								<ul class="pages">
									{% for page in posts.pagination.pages %}
										<li>
											{% if page.link %}
												<a href="{{ page.link }}" class="{{ page.class }}">{{ page.title }}</a>
											{% else %}
												<span class="{{ page.class }}">{{ page.title }}</span>
											{% endif %}
										</li>
									{% endfor %}
								</ul>

								{% if posts.pagination.next %}
									<a href="{{ posts.pagination.next.link }}" class="next {{ posts.pagination.next.link|length ? '' : 'disabled' }}">
										<svg width="20" height="20" viewbox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M7 4L13 10L7 16"/>
										</svg>
									</a>
								{% else %}
									<a href="#" class="next disabled">
										<svg width="20" height="20" viewbox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M7 4L13 10L7 16"/>
										</svg>
									</a>
								{% endif %}
							</div>
						{% endif %}
					</div>
				</div>
			{% else %}
				<div class="max-w-[39.25rem]">
					<h3>{{ search_empty_label }}</h3>
				</div>
			{% endif %}
		</div>
	</div>
</section>
