(()=>{(function(a){"use strict";let t={$:jQuery.noConflict(),initialized:!1,modules:[],init(){this.initialized||(this.initialized=!0,this.modules.forEach(n=>{typeof n.init=="function"&&n.init(t)}))},smoother:null,smoothScroll(){this.lenis=new Lenis({anchors:!0,allowNestedScroll:!0}),this.lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(n=>{this.lenis.raf(n*1e3)}),gsap.ticker.lagSmoothing(0)},addModule(n){this.modules.push(n)},load(){console.log("Baunfire loaded")},ready(n){t.init(),typeof n=="function"&&n(t)}};a.baunfire=t})(window);(function(){let a=baunfire.$;baunfire.Global={init(){this.handleSpecialLinks(),this.fixLangLinks(),this.siteSearch(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();let n=document.querySelector(this.getAttribute("href"));n&&n.scrollIntoView({behavior:"smooth"})})})},screenSizeChange(){ScrollTrigger.refresh()},callAfterResize(e,t=.2){let n=gsap.delayedCall(t,e).pause(),f=()=>n.restart(!0);return window.addEventListener("resize",f),f},generateVimeoIframe(e,t=!1){return t?`<iframe src="https://player.vimeo.com/video/${e}?badge=0&portrait=0&byline=0&title=0&pip=0&autopause=1&airplay=0&vimeo_logo=0&dnt=1&background=1" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media"></iframe>`:`<iframe src="https://player.vimeo.com/video/${e}?badge=0&portrait=0&byline=0&title=0&pip=0&autopause=1&airplay=0&vimeo_logo=0&dnt=1" playsinline frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media"></iframe>`},refreshScrollTriggers(){ScrollTrigger.getAll().forEach(t=>{t.refresh(!0)})},handleSpecialLinks(){(()=>{let t=a('a[href^="download:"]');t.length&&t.each(function(){let n=a(this),f=n.attr("href");n.attr("href",f.replace("download:","")),n.attr("download","")})})()},updateSelectClass(e){let t=e.selectmenu("menuWidget");t.find(".selected").removeClass("selected"),t.find(".ui-state-active").addClass("selected")},convertRemToPixels(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)},fixLangLinks(){let e=a("body").data("lang");if(e=="en")return;let t=a("body").data("site-url"),n=t.replace(`${e}/`,""),f=a("nav a:not(.wpml-ls-link), footer a, main a");f.length&&f.each(function(){let l=a(this),d=l.attr("href");if(!d||d.startsWith("#")||d.startsWith("mailto:")||d.startsWith("tel:")||d.includes(t))return;let s=!/^https?:\/\//.test(d);if(d.startsWith(n)||s)if(s){let i=d.startsWith("/")?d:"/"+d,c=`${n}${e}`+i;l.attr("href",c)}else{let i=d.replace(`${n}`,`${n}${e}/`);l.attr("href",i)}})},siteSearch(){let e=()=>{a("input.nav-search").each(function(){let o=a(this);o.on("keypress",function(i){if(i.which==13){i.preventDefault();let c=o.data("action");window.location.href=`${c}${o.val()}`}})})},t=()=>{let s=a("section.search-result");s.length&&(n(s),f(s),l(s))},n=s=>{let o=s.find(".search-item");o.length&&o.click(function(){let c=a(this).data("href");window.location.href=c})},f=s=>{let o=s.find("dialog"),i=s.find(".dialog-trigger"),c=s.find(".dialog-close");i.click(function(){o[0].showModal(),o.scrollTop(0),o.find(".dialog-body").scrollTop(0)}),c.click(function(){o[0].close()}),gsap.matchMedia().add({isDesktop:"(min-width: 992px)",isMobile:"(max-width: 991.98px)"},r=>{let{isDesktop:u,isMobile:p}=r.conditions;return u&&c.trigger("click"),()=>{}})},l=s=>{let o=s.find(".search-filter-group");o.length&&(o.each(function(){let i=a(this);i.find(".search-filter-head").click(function(){i.toggleClass("active"),baunfire.Global.screenSizeChange()})}),d(s),o.first().find(".search-filter-head").click())},d=s=>{let o=s.find(".search-filter");o.length&&o.each(function(){let i=a(this),c=i.find("input[type='radio']");i.find(".search-filter-count").text()!=0||c.val()=="all"?c.change(function(){window.location.href=c.data("url")}):i.addClass("disabled")})};e(),t()},importVimeoScript(e){if(window.Vimeo){e?.(window.Vimeo);return}this.fancyLog("Loading Vimeo Player...");let t=document.createElement("script");t.src=`${templateURL}/assets/js/external/vimeo-player.js`,t.defer=!0,t.onload=()=>{this.fancyLog("Vimeo Player loaded:",window.Vimeo),e?.(window.Vimeo)},t.onerror=()=>{console.error("Failed to load Vimeo Player script.")},document.body.appendChild(t)},importHubspotScript(e){if(typeof hbspt<"u"){e?.();return}this.fancyLog("Loading Hubspot...");let t=document.createElement("script");t.src=`${templateURL}/assets/js/external/hubspot-embed.min.js`,t.defer=!0,t.onload=()=>{this.fancyLog("Hubspot Embed loaded."),e?.()},t.onerror=()=>{console.error("Failed to load Hubspot Embed script.")},document.body.appendChild(t)},handleFooter(){let e=()=>{let n=a("footer .form-container.footer-form");if(!n.length)return;let f=n.data("region"),l=n.data("form-id"),d=n.data("portal-id"),s=(i,c="text")=>{i.length&&i.each(function(){let h=a(this),r=h.find("label span:not(.hs-form-required)").text();if(c=="text"){let u=h.find(".input input");if(u.attr("placeholder")!="")return;u.attr("placeholder",r)}else c=="select"&&h.find(".input select").find("option[disabled]").text(r)})},o=i=>{let c=i.find('.hs_submit .actions input[type="submit"]'),h=a('<svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.55697 10.375L11.8486 6.94618L8.55697 3.51736" stroke="white" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M1.01411 0.500006L1.0141 5.84896C1.0141 6.45463 1.50566 6.94618 2.11133 6.94618L11.9863 6.94618" stroke="white" stroke-width="1.5" stroke-miterlimit="10"></path></svg>'),r=a('<div class="btn form-btn blue"></div>');c.wrap(r),c.after(h),baunfire.Global.screenSizeChange()};hbspt.forms.create({region:f,portalId:d,formId:l,target:".footer .form-container.footer-form",onFormReady:function(){o(n),s(n.find(".hs-fieldtype-text")),baunfire.Global.screenSizeChange()},onFormSubmit:function(){console.log("Form submitted!"),baunfire.Global.screenSizeChange()}})};(()=>{a("button.ot-sdk-show-settings").filter(function(){return a(this).text().trim()==="Do Not Sell or Share My Personal Information"}).addClass("is-cali")})(),this.importHubspotScript(()=>{e()})},fancyLog(e,t="info"){let n={info:{label:"\u2139\uFE0F INFO:",style1:"color: white; background-color: #2196F3; padding: 2px 6px; border-radius: 4px;",style2:"color: #FFF;"},warn:{label:"\u26A0\uFE0F WARNING:",style1:"color: black; background-color: #FFEB3B; padding: 2px 6px; border-radius: 4px;",style2:"color: #000;"},error:{label:"\u26D4 ERROR:",style1:"color: white; background-color: #F44336; padding: 2px 6px; border-radius: 4px;",style2:"color: #FFF;"}},{label:f,style1:l,style2:d}=n[t]||n.info;typeof e=="object"?(console.log(`%c${f}`,l),console.log(e)):console.log(`%c${f} %c${e}`,l,d)}},baunfire.addModule(baunfire.Global)})();(function(){let a=baunfire.$;baunfire.Animation={init(){this.handleNav(),this.footerAnimation(),this.notFoundAnimation()},handleNav(){let e=a("nav");if(!e.length)return;let t=!1,n=()=>{function r(){let u=document.querySelector("nav");u&&(window.scrollY>20?u.classList.add("scrolled"):u.classList.remove("scrolled"))}document.addEventListener("scroll",r),document.addEventListener("DOMContentLoaded",r),window.addEventListener("load",r)},f=()=>{let r=e.find(".nav__item.parent"),u=e.find(".nav__overlay"),p=e.find(".nav__mobile");u.click(function(m){r.removeClass("active mob-active"),i(p)}),r.each(function(){let m=a(this);m.find(".nav__item-inner, .nav__search-inner").click(function(v){window.matchMedia("(max-width: 1200px)").matches||(v.stopPropagation(),t||(h(),t=!0),m.hasClass("active")?u.trigger("click"):(r.removeClass("active"),m.addClass("active")))})})},l=()=>{let r=e.find(".nav__dd.is-products .nav__dd-group-link"),u=e.find(".nav__dd.is-products .nav__dd-image");r.hover(function(){if(window.matchMedia("(max-width: 1200px)").matches)return;u.removeClass("active");let m=a(this).data("product-index");e.find(`.nav__dd.is-products .nav__dd-image[data-product-index='${m}']`).addClass("active")},function(){})},d=()=>{ScrollTrigger.create({id:"nav-bg-hide",trigger:"body",start:"top top",end:"max",invalidateOnRefresh:!0,onUpdate:u=>{u.direction===1?r(!0):r(!1)}});function r(u){if(u){if(e.hasClass("nav-hidden")||e.hasClass("mob-active"))return;e.addClass("nav-hidden")}else{if(!e.hasClass("nav-hidden"))return;e.removeClass("nav-hidden")}}},s=()=>{let r=e.find(".nav__burger");gsap.matchMedia().add({isDesktop:"(min-width: 1200px)",isMobile:"(max-width: 1199.98px)"},p=>{let{isDesktop:m,isMobile:g}=p.conditions;return m&&(e.removeClass("mob-active"),e.find(".nav__mobile .nav__panel-groups .nav__dd").removeClass("active"),a("html").removeClass("disable-scrolling"),r.off("click"),gsap.set(".nav__mobile",{clearProps:"all"})),g&&(e.find(".nav__desktop .nav__item.parent").removeClass("active"),r.click(function(){e.hasClass("mob-active")?i():o()})),()=>{}})},o=()=>{e.addClass("mob-active"),a("html").addClass("disable-scrolling"),t||(h(),t=!0)},i=()=>{e.removeClass("mob-active"),a("html").removeClass("disable-scrolling"),e.find(".nav__mobile .nav__panel-groups .nav__dd").removeClass("active")},c=()=>{let r=e.find(".nav__mobile .nav__item.parent, .nav__lang.is-mobile, .nav__search.is-mobile"),u=e.find(".nav__mobile .nav__panel-groups .nav__dd"),p=e.find(".nav__mobile .nav__dd-back");r.click(function(){if(!window.matchMedia("(max-width: 1200px)").matches)return;let g=a(this).data("panel-group");u.removeClass("active"),e.find(`.nav__dd[data-panel-group="${g}"`).addClass("active")}),p.click(function(){u.removeClass("active")})},h=()=>{let r=e.find(".lazy-image");r.length&&r.each(function(){this.setAttribute("src",this.getAttribute("data-src")),this.removeAttribute("data-src"),this.classList.remove("lazy-image")})};a(".content-secondary-nav").length&&d(),n(),l(),f(),s(),c()},headingAnimation(e,t,n={}){e.length&&(e.each(function(f){this.style.transitionDelay=`${f*50}ms`}),ScrollTrigger.create({...t,once:!0,onEnter:()=>{e.addClass("reveal"),n&&(typeof n.onStart=="function"&&n.onStart(),typeof n.onComplete=="function"&&setTimeout(()=>n.onComplete(),1e3))}}))},descAnimation(e,t=300){e.length&&setTimeout(()=>{e.addClass("reveal")},t)},orbAnimation(e,t,n=!1){if(!e.length||!t.length)return;let f=window.matchMedia("(max-width: 1200px)"),l=gsap.quickTo(t,"x",{duration:.1,ease:"power1"}),d=gsap.quickTo(t,"y",{duration:.1,ease:"power1"}),s=i=>{let c=e.get(0).getBoundingClientRect(),h=t.outerWidth()/2,r=t.outerHeight()/2;l(i.clientX-c.left-h),d(i.clientY-c.top-r)};n&&(s=i=>{let c=e.get(0).getBoundingClientRect(),h=i.clientX-c.left-c.width/2,r=i.clientY-c.top-c.height/2;l(h),d(r)});let o=gsap.to(t,{autoAlpha:1,scale:1,ease:"none",paused:!0});e.on("pointermove",i=>{f.matches||(t.addClass("active"),o.play(),s(i))}),e.on("pointerleave",()=>{f.matches||(t.removeClass("active"),o.reverse(),n&&(l(0),d(0)))})},centeredOrbAnimation(e,t){if(!e.length||!t.length)return;let n=window.matchMedia("(max-width: 1200px)"),f=gsap.quickTo(t,"x",{duration:.1,ease:"power1"}),l=gsap.quickTo(t,"y",{duration:.1,ease:"power1"}),d=o=>{let i=e.get(0).getBoundingClientRect(),c=t.outerHeight(),h=o.clientX-i.left-i.width*.5,r=o.clientY-i.top-c/2+i.height*.4;f(h),l(r)},s=gsap.to(t,{ease:"none",paused:!0});e.on("pointermove",o=>{n.matches||(t.addClass("active"),s.play(),d(o))}),e.on("pointerleave",()=>{if(n.matches)return;t.removeClass("active"),s.reverse();let o=e.get(0).getBoundingClientRect(),i=t.outerHeight();f(0),l(o.height*.9-i/2)})},footerAnimation(){if(!a("footer").length)return;let t=()=>{let l=a(".footer__to-top");l.length&&l.click(function(){gsap.to(window,{duration:.6,scrollTo:0,ease:"power1.inOut",overwrite:!0})})},n=()=>{let l=a(".footer__pre-heading .inner-word");l.length&&this.headingAnimation(l,{trigger:"footer",start:"top 60%"},{onComplete:()=>{baunfire.Global.importVimeoScript(()=>{f()}),baunfire.Global.handleFooter()}})},f=()=>{let l=a(".footer__media .video-container");if(!l.length)return;let d=l.data("video-id");l.append(baunfire.Global.generateVimeoIframe(d,!0)),l.addClass("loaded");let s=l.find("iframe");if(!s.length)return;let o=new Vimeo.Player(s.get(0));o.setMuted(!0),ScrollTrigger.create({trigger:"footer",start:"top center",end:"bottom 30%",onEnter:()=>{o.play()},onLeave:()=>{o.pause()},onEnterBack:()=>{o.play()},onLeaveBack:()=>{o.pause()}})};t(),n()},notFoundAnimation(){let e=a("section.not-found");if(!e.length)return;let t=e.find(".lottie"),n=t.data("json");n.length&&lottie.loadAnimation({container:t.get(0),renderer:"svg",loop:!0,autoplay:!0,path:n})}},baunfire.addModule(baunfire.Animation)})();jQuery(document).ready(function(){window.baunfire.ready()});})();
